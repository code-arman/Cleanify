{"ast":null,"code":"import { createContext, mergeRefs } from '@chakra-ui/react-utils';\nimport { useLayoutEffect, useEffect, useRef, useState } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n/**\n * Sort an array of DOM nodes according to the HTML tree order\n * @see http://www.w3.org/TR/html5/infrastructure.html#tree-order\n */\n\n\nfunction sortNodes(nodes) {\n  return nodes.sort(function (a, b) {\n    var compare = a.compareDocumentPosition(b);\n\n    if (compare & Node.DOCUMENT_POSITION_FOLLOWING || compare & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n      // a < b\n      return -1;\n    }\n\n    if (compare & Node.DOCUMENT_POSITION_PRECEDING || compare & Node.DOCUMENT_POSITION_CONTAINS) {\n      // a > b\n      return 1;\n    }\n\n    if (compare & Node.DOCUMENT_POSITION_DISCONNECTED || compare & Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC) {\n      throw Error(\"Cannot sort the given nodes.\");\n    } else {\n      return 0;\n    }\n  });\n}\n\nvar isElement = function isElement(el) {\n  return typeof el == \"object\" && \"nodeType\" in el && el.nodeType === Node.ELEMENT_NODE;\n};\n\nfunction getNextIndex(current, max, loop) {\n  var next = current + 1;\n  if (loop && next >= max) next = 0;\n  return next;\n}\n\nfunction getPrevIndex(current, max, loop) {\n  var next = current - 1;\n  if (loop && next < 0) next = max;\n  return next;\n}\n\nvar useSafeLayoutEffect = typeof window !== \"undefined\" ? useLayoutEffect : useEffect;\n\nvar cast = function cast(value) {\n  return value;\n};\n/**\n * @internal\n *\n * Class to manage descendants and their relative indices in the DOM.\n * It uses `node.compareDocumentPosition(...)` under the hood\n */\n\n\nvar DescendantsManager = function DescendantsManager() {\n  var _this = this;\n\n  this.descendants = new Map();\n\n  this.register = function (nodeOrOptions) {\n    if (nodeOrOptions == null) return;\n\n    if (isElement(nodeOrOptions)) {\n      return _this.registerNode(nodeOrOptions);\n    }\n\n    return function (node) {\n      _this.registerNode(node, nodeOrOptions);\n    };\n  };\n\n  this.unregister = function (node) {\n    _this.descendants[\"delete\"](node);\n\n    var sorted = sortNodes(Array.from(_this.descendants.keys()));\n\n    _this.assignIndex(sorted);\n  };\n\n  this.destroy = function () {\n    _this.descendants.clear();\n  };\n\n  this.assignIndex = function (descendants) {\n    _this.descendants.forEach(function (descendant) {\n      var index = descendants.indexOf(descendant.node);\n      descendant.index = index;\n      descendant.node.dataset[\"index\"] = descendant.index.toString();\n    });\n  };\n\n  this.count = function () {\n    return _this.descendants.size;\n  };\n\n  this.enabledCount = function () {\n    return _this.enabledValues().length;\n  };\n\n  this.values = function () {\n    var values = Array.from(_this.descendants.values());\n    return values.sort(function (a, b) {\n      return a.index - b.index;\n    });\n  };\n\n  this.enabledValues = function () {\n    return _this.values().filter(function (descendant) {\n      return !descendant.disabled;\n    });\n  };\n\n  this.item = function (index) {\n    if (_this.count() === 0) return undefined;\n    return _this.values()[index];\n  };\n\n  this.enabledItem = function (index) {\n    if (_this.enabledCount() === 0) return undefined;\n    return _this.enabledValues()[index];\n  };\n\n  this.first = function () {\n    return _this.item(0);\n  };\n\n  this.firstEnabled = function () {\n    return _this.enabledItem(0);\n  };\n\n  this.last = function () {\n    return _this.item(_this.descendants.size - 1);\n  };\n\n  this.lastEnabled = function () {\n    var lastIndex = _this.enabledValues().length - 1;\n    return _this.enabledItem(lastIndex);\n  };\n\n  this.indexOf = function (node) {\n    var _this$descendants$get, _this$descendants$get2;\n\n    if (!node) return -1;\n    return (_this$descendants$get = (_this$descendants$get2 = _this.descendants.get(node)) == null ? void 0 : _this$descendants$get2.index) != null ? _this$descendants$get : -1;\n  };\n\n  this.enabledIndexOf = function (node) {\n    if (node == null) return -1;\n    return _this.enabledValues().findIndex(function (i) {\n      return i.node.isSameNode(node);\n    });\n  };\n\n  this.next = function (index, loop) {\n    if (loop === void 0) {\n      loop = true;\n    }\n\n    var next = getNextIndex(index, _this.count(), loop);\n    return _this.item(next);\n  };\n\n  this.nextEnabled = function (index, loop) {\n    if (loop === void 0) {\n      loop = true;\n    }\n\n    var item = _this.item(index);\n\n    if (!item) return;\n\n    var enabledIndex = _this.enabledIndexOf(item.node);\n\n    var nextEnabledIndex = getNextIndex(enabledIndex, _this.enabledCount(), loop);\n    return _this.enabledItem(nextEnabledIndex);\n  };\n\n  this.prev = function (index, loop) {\n    if (loop === void 0) {\n      loop = true;\n    }\n\n    var prev = getPrevIndex(index, _this.count() - 1, loop);\n    return _this.item(prev);\n  };\n\n  this.prevEnabled = function (index, loop) {\n    if (loop === void 0) {\n      loop = true;\n    }\n\n    var item = _this.item(index);\n\n    if (!item) return;\n\n    var enabledIndex = _this.enabledIndexOf(item.node);\n\n    var prevEnabledIndex = getPrevIndex(enabledIndex, _this.enabledCount() - 1, loop);\n    return _this.enabledItem(prevEnabledIndex);\n  };\n\n  this.registerNode = function (node, options) {\n    if (!node || _this.descendants.has(node)) return;\n    var keys = Array.from(_this.descendants.keys()).concat(node);\n    var sorted = sortNodes(keys);\n\n    if (options != null && options.disabled) {\n      options.disabled = !!options.disabled;\n    }\n\n    var descendant = _extends({\n      node: node,\n      index: -1\n    }, options);\n\n    _this.descendants.set(node, descendant);\n\n    _this.assignIndex(sorted);\n  };\n};\n/**\n * @internal\n * React hook that initializes the DescendantsManager\n */\n\n\nfunction useDescendants() {\n  var descendants = useRef(new DescendantsManager());\n  useSafeLayoutEffect(function () {\n    return function () {\n      return descendants.current.destroy();\n    };\n  });\n  return descendants.current;\n}\n/* -------------------------------------------------------------------------------------------------\n * Descendants context to be used in component-land.\n  - Mount the `DescendantsContextProvider` at the root of the component\n  - Call `useDescendantsContext` anywhere you need access to the descendants information\n\n  NB:  I recommend using `createDescendantContext` below\n * -----------------------------------------------------------------------------------------------*/\n\n\nvar _createContext = createContext({\n  name: \"DescendantsProvider\",\n  errorMessage: \"useDescendantsContext must be used within DescendantsProvider\"\n}),\n    DescendantsContextProvider = _createContext[0],\n    useDescendantsContext = _createContext[1];\n/**\n * @internal\n * This hook provides information a descendant such as:\n * - Its index compared to other descendants\n * - ref callback to register the descendant\n * - Its enabled index compared to other enabled descendants\n */\n\n\nfunction useDescendant(options) {\n  var descendants = useDescendantsContext();\n\n  var _useState = useState(-1),\n      index = _useState[0],\n      setIndex = _useState[1];\n\n  var ref = useRef(null);\n  useSafeLayoutEffect(function () {\n    return function () {\n      if (!ref.current) return;\n      descendants.unregister(ref.current);\n    };\n  }, []);\n  useSafeLayoutEffect(function () {\n    if (!ref.current) return;\n    var dataIndex = Number(ref.current.dataset[\"index\"]);\n\n    if (index != dataIndex && !Number.isNaN(dataIndex)) {\n      setIndex(dataIndex);\n    }\n  });\n  var refCallback = options ? cast(descendants.register(options)) : cast(descendants.register);\n  return {\n    descendants: descendants,\n    index: index,\n    enabledIndex: descendants.enabledIndexOf(ref.current),\n    register: mergeRefs(refCallback, ref)\n  };\n}\n/* -------------------------------------------------------------------------------------------------\n * Function that provides strongly typed versions of the context provider and hooks above.\n   To be used in component-land\n * -----------------------------------------------------------------------------------------------*/\n\n\nfunction createDescendantContext() {\n  var ContextProvider = cast(DescendantsContextProvider);\n\n  var _useDescendantsContext = function _useDescendantsContext() {\n    return cast(useDescendantsContext());\n  };\n\n  var _useDescendant = function _useDescendant(options) {\n    return useDescendant(options);\n  };\n\n  var _useDescendants = function _useDescendants() {\n    return useDescendants();\n  };\n\n  return [// context provider\n  ContextProvider, // call this when you need to read from context\n  _useDescendantsContext, // descendants state information, to be called and passed to `ContextProvider`\n  _useDescendants, // descendant index information\n  _useDescendant];\n}\n\nexport { createDescendantContext, createDescendantContext as default };","map":{"version":3,"sources":["/Users/armanrafati/Documents/Cleanify/client/node_modules/@chakra-ui/descendant/dist/chakra-ui-descendant.esm.js"],"names":["createContext","mergeRefs","useLayoutEffect","useEffect","useRef","useState","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","sortNodes","nodes","sort","a","b","compare","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_CONTAINS","DOCUMENT_POSITION_DISCONNECTED","DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC","Error","isElement","el","nodeType","ELEMENT_NODE","getNextIndex","current","max","loop","next","getPrevIndex","useSafeLayoutEffect","window","cast","value","DescendantsManager","_this","descendants","Map","register","nodeOrOptions","registerNode","node","unregister","sorted","Array","from","keys","assignIndex","destroy","clear","forEach","descendant","index","indexOf","dataset","toString","count","size","enabledCount","enabledValues","values","filter","disabled","item","undefined","enabledItem","first","firstEnabled","last","lastEnabled","lastIndex","_this$descendants$get","_this$descendants$get2","get","enabledIndexOf","findIndex","isSameNode","nextEnabled","enabledIndex","nextEnabledIndex","prev","prevEnabled","prevEnabledIndex","options","has","concat","set","useDescendants","_createContext","name","errorMessage","DescendantsContextProvider","useDescendantsContext","useDescendant","_useState","setIndex","ref","dataIndex","Number","isNaN","refCallback","createDescendantContext","ContextProvider","_useDescendantsContext","_useDescendant","_useDescendants","default"],"mappings":"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","sourcesContent":["import { createContext, mergeRefs } from '@chakra-ui/react-utils';\nimport { useLayoutEffect, useEffect, useRef, useState } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/**\n * Sort an array of DOM nodes according to the HTML tree order\n * @see http://www.w3.org/TR/html5/infrastructure.html#tree-order\n */\n\nfunction sortNodes(nodes) {\n  return nodes.sort(function (a, b) {\n    var compare = a.compareDocumentPosition(b);\n\n    if (compare & Node.DOCUMENT_POSITION_FOLLOWING || compare & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n      // a < b\n      return -1;\n    }\n\n    if (compare & Node.DOCUMENT_POSITION_PRECEDING || compare & Node.DOCUMENT_POSITION_CONTAINS) {\n      // a > b\n      return 1;\n    }\n\n    if (compare & Node.DOCUMENT_POSITION_DISCONNECTED || compare & Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC) {\n      throw Error(\"Cannot sort the given nodes.\");\n    } else {\n      return 0;\n    }\n  });\n}\nvar isElement = function isElement(el) {\n  return typeof el == \"object\" && \"nodeType\" in el && el.nodeType === Node.ELEMENT_NODE;\n};\nfunction getNextIndex(current, max, loop) {\n  var next = current + 1;\n  if (loop && next >= max) next = 0;\n  return next;\n}\nfunction getPrevIndex(current, max, loop) {\n  var next = current - 1;\n  if (loop && next < 0) next = max;\n  return next;\n}\nvar useSafeLayoutEffect = typeof window !== \"undefined\" ? useLayoutEffect : useEffect;\nvar cast = function cast(value) {\n  return value;\n};\n\n/**\n * @internal\n *\n * Class to manage descendants and their relative indices in the DOM.\n * It uses `node.compareDocumentPosition(...)` under the hood\n */\nvar DescendantsManager = function DescendantsManager() {\n  var _this = this;\n\n  this.descendants = new Map();\n\n  this.register = function (nodeOrOptions) {\n    if (nodeOrOptions == null) return;\n\n    if (isElement(nodeOrOptions)) {\n      return _this.registerNode(nodeOrOptions);\n    }\n\n    return function (node) {\n      _this.registerNode(node, nodeOrOptions);\n    };\n  };\n\n  this.unregister = function (node) {\n    _this.descendants[\"delete\"](node);\n\n    var sorted = sortNodes(Array.from(_this.descendants.keys()));\n\n    _this.assignIndex(sorted);\n  };\n\n  this.destroy = function () {\n    _this.descendants.clear();\n  };\n\n  this.assignIndex = function (descendants) {\n    _this.descendants.forEach(function (descendant) {\n      var index = descendants.indexOf(descendant.node);\n      descendant.index = index;\n      descendant.node.dataset[\"index\"] = descendant.index.toString();\n    });\n  };\n\n  this.count = function () {\n    return _this.descendants.size;\n  };\n\n  this.enabledCount = function () {\n    return _this.enabledValues().length;\n  };\n\n  this.values = function () {\n    var values = Array.from(_this.descendants.values());\n    return values.sort(function (a, b) {\n      return a.index - b.index;\n    });\n  };\n\n  this.enabledValues = function () {\n    return _this.values().filter(function (descendant) {\n      return !descendant.disabled;\n    });\n  };\n\n  this.item = function (index) {\n    if (_this.count() === 0) return undefined;\n    return _this.values()[index];\n  };\n\n  this.enabledItem = function (index) {\n    if (_this.enabledCount() === 0) return undefined;\n    return _this.enabledValues()[index];\n  };\n\n  this.first = function () {\n    return _this.item(0);\n  };\n\n  this.firstEnabled = function () {\n    return _this.enabledItem(0);\n  };\n\n  this.last = function () {\n    return _this.item(_this.descendants.size - 1);\n  };\n\n  this.lastEnabled = function () {\n    var lastIndex = _this.enabledValues().length - 1;\n    return _this.enabledItem(lastIndex);\n  };\n\n  this.indexOf = function (node) {\n    var _this$descendants$get, _this$descendants$get2;\n\n    if (!node) return -1;\n    return (_this$descendants$get = (_this$descendants$get2 = _this.descendants.get(node)) == null ? void 0 : _this$descendants$get2.index) != null ? _this$descendants$get : -1;\n  };\n\n  this.enabledIndexOf = function (node) {\n    if (node == null) return -1;\n    return _this.enabledValues().findIndex(function (i) {\n      return i.node.isSameNode(node);\n    });\n  };\n\n  this.next = function (index, loop) {\n    if (loop === void 0) {\n      loop = true;\n    }\n\n    var next = getNextIndex(index, _this.count(), loop);\n    return _this.item(next);\n  };\n\n  this.nextEnabled = function (index, loop) {\n    if (loop === void 0) {\n      loop = true;\n    }\n\n    var item = _this.item(index);\n\n    if (!item) return;\n\n    var enabledIndex = _this.enabledIndexOf(item.node);\n\n    var nextEnabledIndex = getNextIndex(enabledIndex, _this.enabledCount(), loop);\n    return _this.enabledItem(nextEnabledIndex);\n  };\n\n  this.prev = function (index, loop) {\n    if (loop === void 0) {\n      loop = true;\n    }\n\n    var prev = getPrevIndex(index, _this.count() - 1, loop);\n    return _this.item(prev);\n  };\n\n  this.prevEnabled = function (index, loop) {\n    if (loop === void 0) {\n      loop = true;\n    }\n\n    var item = _this.item(index);\n\n    if (!item) return;\n\n    var enabledIndex = _this.enabledIndexOf(item.node);\n\n    var prevEnabledIndex = getPrevIndex(enabledIndex, _this.enabledCount() - 1, loop);\n    return _this.enabledItem(prevEnabledIndex);\n  };\n\n  this.registerNode = function (node, options) {\n    if (!node || _this.descendants.has(node)) return;\n    var keys = Array.from(_this.descendants.keys()).concat(node);\n    var sorted = sortNodes(keys);\n\n    if (options != null && options.disabled) {\n      options.disabled = !!options.disabled;\n    }\n\n    var descendant = _extends({\n      node: node,\n      index: -1\n    }, options);\n\n    _this.descendants.set(node, descendant);\n\n    _this.assignIndex(sorted);\n  };\n};\n\n/**\n * @internal\n * React hook that initializes the DescendantsManager\n */\n\nfunction useDescendants() {\n  var descendants = useRef(new DescendantsManager());\n  useSafeLayoutEffect(function () {\n    return function () {\n      return descendants.current.destroy();\n    };\n  });\n  return descendants.current;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Descendants context to be used in component-land.\n  - Mount the `DescendantsContextProvider` at the root of the component\n  - Call `useDescendantsContext` anywhere you need access to the descendants information\n\n  NB:  I recommend using `createDescendantContext` below\n * -----------------------------------------------------------------------------------------------*/\nvar _createContext = createContext({\n  name: \"DescendantsProvider\",\n  errorMessage: \"useDescendantsContext must be used within DescendantsProvider\"\n}),\n    DescendantsContextProvider = _createContext[0],\n    useDescendantsContext = _createContext[1];\n/**\n * @internal\n * This hook provides information a descendant such as:\n * - Its index compared to other descendants\n * - ref callback to register the descendant\n * - Its enabled index compared to other enabled descendants\n */\n\n\nfunction useDescendant(options) {\n  var descendants = useDescendantsContext();\n\n  var _useState = useState(-1),\n      index = _useState[0],\n      setIndex = _useState[1];\n\n  var ref = useRef(null);\n  useSafeLayoutEffect(function () {\n    return function () {\n      if (!ref.current) return;\n      descendants.unregister(ref.current);\n    };\n  }, []);\n  useSafeLayoutEffect(function () {\n    if (!ref.current) return;\n    var dataIndex = Number(ref.current.dataset[\"index\"]);\n\n    if (index != dataIndex && !Number.isNaN(dataIndex)) {\n      setIndex(dataIndex);\n    }\n  });\n  var refCallback = options ? cast(descendants.register(options)) : cast(descendants.register);\n  return {\n    descendants: descendants,\n    index: index,\n    enabledIndex: descendants.enabledIndexOf(ref.current),\n    register: mergeRefs(refCallback, ref)\n  };\n}\n/* -------------------------------------------------------------------------------------------------\n * Function that provides strongly typed versions of the context provider and hooks above.\n   To be used in component-land\n * -----------------------------------------------------------------------------------------------*/\n\n\nfunction createDescendantContext() {\n  var ContextProvider = cast(DescendantsContextProvider);\n\n  var _useDescendantsContext = function _useDescendantsContext() {\n    return cast(useDescendantsContext());\n  };\n\n  var _useDescendant = function _useDescendant(options) {\n    return useDescendant(options);\n  };\n\n  var _useDescendants = function _useDescendants() {\n    return useDescendants();\n  };\n\n  return [// context provider\n  ContextProvider, // call this when you need to read from context\n  _useDescendantsContext, // descendants state information, to be called and passed to `ContextProvider`\n  _useDescendants, // descendant index information\n  _useDescendant];\n}\n\nexport { createDescendantContext, createDescendantContext as default };\n"]},"metadata":{},"sourceType":"module"}